- extends 'dunai/base.jade'

- load static
- load common
- load components

block head_extra
    script(type="text/javascript", src="{% static 'scripts/owl.carousel.min.js' %}")

block content
    .s-table.a-12
        .s-cell.a-center.s-6.m-4.l-3.xl-2.card.primary-bg.a-middle
            h1(style="padding: 3rem 0") Andrew Dunai
        .a-hidden.m-cell.a-center.m-4.l-3.xl-1.card.primary-bg.a-middle.bg-cover(style="background-image: url({% static 'images/me.jpg' %})")
        .s-cell.a-center.s-6.m-4.l-6.xl-9.text-text.s-middle.bg-cover.a-middle
            .shadow
                .a-table.a-12.a-full-height
                    .a-cell.a-middle
                        h1 /var/stuff

    .a-row.a-12
        - for category in categories
            .a-block
            //- component name='card' title=category.title icon=category.icon class="acid"
            .a-block.primary-text
                h1
                    i.a-inline-block.fi(class="{{ category.icon }}", style="padding: 1rem 1.5rem 1rem 2rem; font-size: 1em")
                    = category.title
            //.slider-ctn.category-slider-ctn
                .slider
            - for project in category.projects.all
                //.item
                - component name='card' title=project.title image=project.cover link=project.get_absolute_url class='clickable'
                //.slider-nav.prev
                    .a-table.a-12.a-full-height
                        .a-cell.a-middle(style="font-size: 5rem") &lsaquo;
                //.slider-nav.next
                    .a-table.a-12.a-full-height
                        .a-cell.a-middle(style="font-size: 5rem") &rsaquo;

        //
            script(type="text/javascript").
                $('.category-slider-ctn').each(function() {
                    var $ctn = $(this);
                    var $owl = $ctn.find('.slider').owlCarousel({
                        items: 6.5,
                        //responsiveRefreshRage: 200,
                        //responsiveBaseElement: '.slider-ctn',
                        itemsDesktop: [1200, 4.5],
                        itemsDesktopSmall: [768, 3.5],
                        itemsTablet: [480, 2.5],
                        //itemsTabletSmall: [480, 1.5],
                        slideSpeed: 200,
                        paginationSpeed: 200,
                        rewindSpeed: 200
                    });
                    $ctn.on('click', '.slider-nav.prev', function () {
                        $owl.trigger('owl.prev');
                    });
                    $ctn.on('click', '.slider-nav.next', function () {
                        $owl.trigger('owl.next');
                    });
                });
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?2' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?3' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?4' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?5' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?6' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?7' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?8' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?9' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?10' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?11' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?12' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?13' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?14' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?15' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?16' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?17' link="/project/1"
//        - component name='card' title='Card test' image='http://lorempixel.com/600/400/?18' link="/project/1"
